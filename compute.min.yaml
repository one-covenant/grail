# This is intended to give a rough estimate of the minimum requirements
# so that the user can make an informed decision about whether or not
# they want to run a miner or validator on their machine.

# NOTE: Specification for miners may be different from validators.
# The specifications below represent conservative upper bounds to reduce OOM risk and improve stability.
# If you successfully operate with lower specifications, please inform us so we can update these guidelines.

version: '0.1.0'

compute_spec:

  miner:

    cpu:
      min_cores: 16           # Minimum number of CPU cores
      min_speed: 3.2          # Minimum speed per core (GHz)
      recommended_cores: 32   # Recommended number of CPU cores
      recommended_speed: 3.5  # Recommended speed per core (GHz)
      architecture: "x86_64"  # Architecture type (e.g., x86_64, arm64)

    gpu:
      required: true                       # Does the application require a GPU?
      min_vram: 24                         # Minimum GPU VRAM (GB)
      recommended_vram: 40                 # Recommended GPU VRAM (GB)
      min_compute_capability: 9.0          # Minimum CUDA compute capability
      recommended_compute_capability: 12.4 # Recommended CUDA compute capability
      recommended_gpu: "NVIDIA A100 40GB (or 80GB)"  # Recommended GPU to purchase/rent
      min_amount: 1                        # Minimum GPUs (1 for text-only envs like SAT, GSM8K)
      recommended_amount: 3                # 3 GPUs for triton_kernel env: decoding + proof + kernel eval
      # GPU roles for triton_kernel environment:
      #   GPU 0: Model inference / decoding (vLLM/SGLang)
      #   GPU 1: Proof computation / logprob verification (HuggingFace model)
      #   GPU 2: Kernel evaluation (requires A100/H100 class for Triton JIT)
      # Text-only environments (sat, gsm8k, math, mbpp, humaneval) need only 1 GPU.

    memory:
      min_ram: 64             # Minimum RAM (GB)
      min_swap: 64            # Minimum swap space (GB)
      recommended_swap: 128   # Recommended swap space (GB)
      ram_type: "DDR4/DDR5"   # RAM type (e.g., DDR4, DDR3, etc.)

    storage:
      min_space: 100            # Minimum free storage space (GB)
      recommended_space: 200    # Recommended free storage space (GB)
      type: "SSD"               # Preferred storage type (e.g., SSD, HDD)
      min_iops: 50000           # Minimum I/O operations per second (if applicable)
      recommended_iops: 150000  # Recommended I/O operations per second

    os:
      name: "Ubuntu"  # Name of the preferred operating system(s)
      version: 22.04  # Version of the preferred operating system(s)

  validator:

    cpu:
      min_cores: 16           # Minimum number of CPU cores
      min_speed: 3.0          # Minimum speed per core (GHz)
      recommended_cores: 16   # Recommended number of CPU cores
      recommended_speed: 3.5  # Recommended speed per core (GHz)
      architecture: "x86_64"  # Architecture type (e.g., x86_64, arm64)

    gpu:
      required: true                       # Does the application require a GPU?
      min_vram: 24                         # Minimum GPU VRAM (GB)
      recommended_vram: 40                 # Recommended GPU VRAM (GB)
      min_compute_capability: 9.0          # Minimum CUDA compute capability
      recommended_compute_capability: 12.4 # Recommended CUDA compute capability
      recommended_gpu: "NVIDIA A100 40GB (or 80GB)"  # Recommended GPU to purchase/rent
      min_amount: 2                        # 2 GPUs: GPU 0 = model inference / proof verification, GPU 1 = Triton kernel eval (A100/H100 for Triton JIT)
      recommended_amount: 2                # Recommended amount of GPUs

    memory:
      min_ram: 64             # Minimum RAM (GB)
      min_swap: 64            # Minimum swap space (GB)
      recommended_swap: 64    # Recommended swap space (GB)
      ram_type: "DDR4/DDR5"   # RAM type (e.g., DDR4, DDR3, etc.)

    storage:
      min_space: 100            # Minimum free storage space (GB)
      recommended_space: 100    # Recommended free storage space (GB)
      type: "SSD"               # Preferred storage type (e.g., SSD, HDD)
      min_iops: 50000           # Minimum I/O operations per second (if applicable)
      recommended_iops: 100000  # Recommended I/O operations per second

    os:
      name: "Ubuntu"  # Name of the preferred operating system(s)
      version: 22.04  # Version of the preferred operating system(s)

network_spec:
  bandwidth:
    download: 200  # Minimum download bandwidth (Mbps)
    upload: 100    # Minimum upload bandwidth (Mbps)
